<?php
return unserialize("a:6:{i:0;a:1:{i:0;a:5:{i:0;s:24:\"tcpfunc_JAVASCRIPT_STAFF\";i:1;a:0:{}i:2;i:1;i:3;s:0:\"\";i:4;s:0:\"\";}}i:1;a:0:{}i:2;s:16:\"JAVASCRIPT_STAFF\";i:3;N;i:4;N;i:5;s:25727:\"\$TPL_FUNCS['tcpfunc_JAVASCRIPT_STAFF']=\"eval(\\\$RESET_VAR_CODE); echo \\\"function scriptLoadStuffStaff()\\\\n{\\\\n	var map\\\",\\n	',',\\n	\\\"elements\\\",\\n	',',\\n	\\\"i\\\",\\n	',',\\n	\\\"j;\\\\n	for (i=0;i<document.images.length;i++)\\\\n	{\\\\n		map=document.images[i].getAttribute('usemap');\\\\n		if (map)\\\\n		{\\\\n			elements=document.getElementsByTagName('area');\\\\n			for (j=0;j<elements.length;j++)\\\\n			{\\\\n				if (!elements[j].onclick)\\\\n				{\\\\n					elements[j].src=document.images[i].src;\\\\n					addEventListenerAbstract(elements[j]\\\",\\n	',',\\n	\\\"'click'\\\",\\n	',',\\n	\\\"handleImageClick\\\",\\n	',',\\n	\\\"false);\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		if (document.images[i].className.indexOf('no_theme_img_click')==-1)\\\\n		{\\\\n			addEventListenerAbstract(document.images[i]\\\",\\n	',',\\n	\\\"'mouseover'\\\",\\n	',',\\n	\\\"handleImageMouseOver\\\",\\n	',',\\n	\\\"false);\\\\n			addEventListenerAbstract(document.images[i]\\\",\\n	',',\\n	\\\"'mouseout'\\\",\\n	',',\\n	\\\"handleImageMouseOut\\\",\\n	',',\\n	\\\"false);\\\\n			addEventListenerAbstract(document.images[i]\\\",\\n	',',\\n	\\\"'click'\\\",\\n	',',\\n	\\\"handleImageClick\\\",\\n	',',\\n	\\\"false);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	var inputs=document.getElementsByTagName('input');\\\\n	for (i=0;i<inputs.length;i++)\\\\n	{\\\\n		if ((inputs[i].className.indexOf('no_theme_img_click')==-1) && (inputs[i].type=='image'))\\\\n		{\\\\n			addEventListenerAbstract(inputs[i]\\\",\\n	',',\\n	\\\"'mouseover'\\\",\\n	',',\\n	\\\"handleImageMouseOver\\\",\\n	',',\\n	\\\"false);\\\\n			addEventListenerAbstract(inputs[i]\\\",\\n	',',\\n	\\\"'mouseout'\\\",\\n	',',\\n	\\\"handleImageMouseOut\\\",\\n	',',\\n	\\\"false);\\\\n			addEventListenerAbstract(inputs[i]\\\",\\n	',',\\n	\\\"'click'\\\",\\n	',',\\n	\\\"handleImageClick\\\",\\n	',',\\n	\\\"false);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\\n	// Local cacheing for improved perceived performance\\\\n	var has_local_storage=false;\\\\n	try\\\\n	{\\\\n		has_local_storage=(typeof window.localStorage!='undefined');\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	catch (e) { \\\",\\n	\\\"}\\\",\\n	\\\";\\\\n	if ((has_local_storage) && ('\\\",\\n	ecv(\\\$cl,array(2),0,\\\"CONFIG_OPTION\\\",array(\\\"advanced_admin_cache\\\")),\\n	\\\"'=='1') && (!window.unloaded) && (!browser_matches('gecko')/*Far too slow*/) && (!browser_matches('ie')/*Big problems loading script with sanity in document.write*/))\\\\n	{\\\\n		var html=getInnerHTML(document.documentElement\\\",\\n	',',\\n	\\\"true);\\\\n		if ((html.length<1024*256) && (!document.getElementById('login_username')) && (document.title!='Preloading')) // Do not save more than 256kb\\\\n		{\\\\n			// Saving\\\\n			localPageCaching(html);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n		// Alter any <a> links so that local ones to cached URLs are handled nicely\\\\n		promotePageCaching();\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	// Contextual CSS editor\\\\n	contextualCSSEdit();\\\\n	window.setTimeout(contextualCSSEdit\\\",\\n	',',\\n	\\\"2000); // For frames\\\\n\\\\n	// Thumbnail tooltips\\\\n	var url_patterns=[\\\\n		\\\",\\n	closure_loop(array(\\\"URL_PATTERNS\\\".\\\"\\\",'vars'=>\\\$parameters),array(\\\$parameters,\\\$cl,\\\$last_attach),\\ncreate_function('\\\$parameters,\\\$cl,\\\$last_attach',\\\"extract(\\\\\\\$parameters,EXTR_PREFIX_ALL,'bound'); return \\\\\\\"\\\\\\\\n			\\\\\\\".(in_array(ecv(\\\\\\\$cl,array(),0,\\\\\\\"NEQ\\\\\\\",array(output_tempcode_parameter( isset (\\\\\\\$bound__loop_key)?\\\\\\\$bound__loop_key:NULL,\\\\\\\"_loop_key\\\\\\\",\\\\\\\"JAVASCRIPT_STAFF\\\\\\\"),\\\\\\\"0\\\\\\\")).\\\\\\\"\\\\\\\",\\\\\\\$GLOBALS['TRUTH_PARAMETERS'])?(','):'').\\\\\\\"\\\\\\\\n			{\\\\\\\\n				pattern: /^\\\\\\\".ecv(\\\\\\\$cl,array(),0,\\\\\\\"REPLACE\\\\\\\",array(\\\\\\\"_WILD\\\\\\\",\\\\\\\"([^&]*)\\\\\\\",ecv(\\\\\\\$cl,array(),0,\\\\\\\"REPLACE\\\\\\\",array(\\\\\\\"_WILD\\\\\\\\\\\\\\\\/\\\\\\\",\\\\\\\"([^&]*)\\\\\\\\\\\\\\\\/?\\\\\\\",ecv(\\\\\\\$cl,array(),0,\\\\\\\"REPLACE\\\\\\\",array(\\\\\\\"?\\\\\\\",\\\\\\\"\\\\\\\\\\\\\\\\?\\\\\\\",ecv(\\\\\\\$cl,array(),0,\\\\\\\"REPLACE\\\\\\\",array(\\\\\\\"/\\\\\\\",\\\\\\\"\\\\\\\\\\\\\\\\/\\\\\\\",output_tempcode_parameter( isset (\\\\\\\$bound_PATTERN)?\\\\\\\$bound_PATTERN:NULL,\\\\\\\"PATTERN\\\\\\\",\\\\\\\"JAVASCRIPT_STAFF\\\\\\\"))))))))).\\\\\\\"/\\\\\\\".','.\\\\\\\"\\\\\\\\n				hook: '\\\\\\\".output_tempcode_parameter( isset (\\\\\\\$bound_HOOK)?\\\\\\\$bound_HOOK:NULL,\\\\\\\"HOOK\\\\\\\",\\\\\\\"JAVASCRIPT_STAFF\\\\\\\").\\\\\\\"'\\\\\\\\n			\\\\\\\".\\\\\\\"}\\\\\\\".\\\\\\\"\\\\\\\\n		\\\\\\\";\\\")),\\n	\\\"\\\\n	];\\\\n	var cells=document.getElementsByTagName('td');\\\\n	var links=[];\\\\n	for (var i=0;i<cells.length;i++)\\\\n	{\\\\n		var as=cells[i].getElementsByTagName('a');\\\\n		for (var j=0;j<as.length;j++)\\\\n		{\\\\n			links.push(as[j]);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	(in_array(ecv(\\\$cl,array(),0,\\\"ADDON_INSTALLED\\\",array(\\\"awards\\\")).\\\"\\\",\\\$GLOBALS['TRUTH_PARAMETERS'])?(\\\"\\\\n		for (var i=0;i<links.length;i++)\\\\n		{\\\\n			for (var j=0;j<url_patterns.length;j++)\\\\n			{\\\\n				var url_pattern=url_patterns[j].pattern\\\".','.\\\"hook=url_patterns[j].hook;\\\\n\\\\n				if ((links[i].href) && (!links[i].onmouseover))\\\\n				{\\\\n					var id=links[i].href.match(url_pattern);\\\\n					if (id)\\\\n					{\\\\n						var myfunc=function(hook\\\".','.\\\"id\\\".','.\\\"link)\\\\n						{\\\\n							addEventListenerAbstract(link\\\".','.\\\"'mouseout'\\\".','.\\\"function(event) {\\\\n								if (!event) event=window.event;\\\\n								if (typeof window.deactivateTooltip!='undefined') deactivateTooltip(link\\\".','.\\\"event);\\\\n							\\\".\\\"}\\\".\\\" );\\\\n							addEventListenerAbstract(link\\\".','.\\\"'mousemove'\\\".','.\\\"function(event) {\\\\n								if (!event) event=window.event;\\\\n								if (typeof window.activateTooltip!='undefined') repositionTooltip(link\\\".','.\\\"event\\\".','.\\\"false\\\".','.\\\"false\\\".','.\\\"null\\\".','.\\\"true);\\\\n							\\\".\\\"}\\\".\\\" );\\\\n							addEventListenerAbstract(link\\\".','.\\\"'mouseover'\\\".','.\\\"function(event) {\\\\n								if (!event) event=window.event;\\\\n\\\\n								if (typeof window.activateTooltip!='undefined')\\\\n								{\\\\n									var id_chopped=id[1];\\\\n									if (typeof id[2]!='undefined') id_chopped+=':'+id[2];\\\\n									var comcode='[block=\\\\\\\"'+hook+'\\\\\\\" id=\\\\\\\"'+window.decodeURIComponent(id_chopped)+'\\\\\\\" no_links=\\\\\\\"1\\\\\\\" title=\\\\\\\"\\\\\\\"]main_content[/block]';\\\\n									if (typeof link.rendered_tooltip=='undefined')\\\\n									{\\\\n										link.is_over=true;\\\\n\\\\n										var request=load_XML_doc(maintain_theme_in_link('\\\".ecv(\\\$cl,array(2),0,\\\"FIND_SCRIPT_NOHTTP\\\",array(\\\"comcode_convert\\\")).\\\"?css=1&javascript=1&box_title=\\\".ecv(\\\$cl,array(2,6),2,\\\"PREVIEW\\\",array()).\\\"'+keep_stub(false))\\\".','.\\\"function(ajax_result_frame\\\".','.\\\"ajax_result) {\\\\n											if (ajax_result)\\\\n											{\\\\n												link.rendered_tooltip=getInnerHTML(ajax_result);\\\\n											\\\".\\\"}\\\".\\\"\\\\n											if (typeof link.rendered_tooltip!='undefined')\\\\n											{\\\\n												if (link.is_over)\\\\n													activateTooltip(link\\\".','.\\\"event\\\".','.\\\"link.rendered_tooltip\\\".','.\\\"'400px'\\\".','.\\\"null\\\".','.\\\"null\\\".','.\\\"false\\\".','.\\\"false\\\".','.\\\"false\\\".','.\\\"true);\\\\n											\\\".\\\"}\\\".\\\"\\\\n										\\\".\\\"}\\\".','.\\\"'data='+window.encodeURIComponent(comcode));\\\\n									\\\".\\\"}\\\".\\\" else\\\\n									{\\\\n										activateTooltip(link\\\".','.\\\"event\\\".','.\\\"link.rendered_tooltip\\\".','.\\\"'400px'\\\".','.\\\"null\\\".','.\\\"null\\\".','.\\\"false\\\".','.\\\"false\\\".','.\\\"false\\\".','.\\\"true);\\\\n									\\\".\\\"}\\\".\\\"\\\\n								\\\".\\\"}\\\".\\\"\\\\n							\\\".\\\"}\\\".\\\" );\\\\n						\\\".\\\"}\\\".\\\";\\\\n						myfunc(hook\\\".','.\\\"id\\\".','.\\\"links[i]);\\\\n					\\\".\\\"}\\\".\\\"\\\\n				\\\".\\\"}\\\".\\\"\\\\n			\\\".\\\"}\\\".\\\"\\\\n		\\\".\\\"}\\\".\\\"\\\\n	\\\"):''),\\n	\\\"\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction localPageCaching(html)\\\\n{\\\\n	var loc=(window.location+'').replace(/&js_cache=1&/\\\",\\n	',',\\n	\\\"'&').replace(/&js_cache=1\\\\\\\$/\\\",\\n	',',\\n	\\\"'').replace(/\\\\\\\\?js_cache=1&/\\\",\\n	',',\\n	\\\"'?').replace(/\\\\\\\\?js_cache=1\\\\\\\$/\\\",\\n	',',\\n	\\\"'');\\\\n	var now=new Date().getTime();\\\\n	var count=0;\\\\n	try\\\\n	{\\\\n		if ((typeof localStorage[loc]!='undefined') && (localStorage[loc]))\\\\n			count=JSON.parse(localStorage[loc])[1];\\\\n		localStorage[loc]=JSON.stringify([html\\\",\\n	',',\\n	\\\"count+1\\\",\\n	',',\\n	\\\"now\\\",\\n	',',\\n	\\\"window.page_data_hash]);\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	catch (e) // Do not want privacy settings or whatever causing visible JS errors\\\\n	{\\\\n		if ((e.name=='QUOTA_EXCEEDED_ERR') && (localStorage.length!=0))\\\\n		{\\\\n			// Need to free some space\\\",\\n	',',\\n	\\\" delete the oldest\\\\n			var best_date_so_far=null\\\",\\n	',',\\n	\\\"best_id=null\\\",\\n	',',\\n	\\\"keyat\\\",\\n	',',\\n	\\\"parsed;\\\\n			for (var i=0;i<localStorage.length;i++)\\\\n			{\\\\n				try\\\\n				{\\\\n					keyat=localStorage.key(i);\\\\n					parsed=JSON.parse(localStorage[keyat]);\\\\n					if ((best_date_so_far==null) || (parsed[2]<best_date_so_far))\\\\n					{\\\\n						best_date_so_far=parsed[2];\\\\n						best_id=keyat;\\\\n					\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\" catch (e) {\\\",\\n	\\\"}\\\",\\n	\\\"; // Maybe not JSON\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n			if (best_id)\\\\n			{\\\\n				localStorage.removeItem(best_id);\\\\n\\\\n				// Try again\\\\n				localPageCaching(html);\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\";\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction contextualCSSEdit()\\\\n{\\\\n	var spt=document.getElementById('special_page_type')\\\",\\n	',',\\n	\\\"css_option\\\",\\n	',',\\n	\\\"i\\\",\\n	',',\\n	\\\"l\\\",\\n	',',\\n	\\\"sheet;\\\\n	if (!spt) return;\\\\n	var possibilities=findCSSSheets(window);\\\\n	for (i=0;i<possibilities.length;i++)\\\\n	{\\\\n		sheet=possibilities[i];\\\\n		if (!document.getElementById('opt_for_sheet_'+sheet))\\\\n		{\\\\n			css_option=document.createElement('option');\\\\n			setInnerHTML(css_option\\\",\\n	',',\\n	\\\"((sheet=='global')?'\\\",\\n	ecv(\\\$cl,array(2),2,\\\"CONTEXTUAL_CSS_EDITING_GLOBAL\\\",array()),\\n	\\\"':'\\\",\\n	ecv(\\\$cl,array(2),2,\\\"CONTEXTUAL_CSS_EDITING\\\",array()),\\n	\\\"').replace('{1\\\",\\n	\\\"}\\\",\\n	\\\"'\\\",\\n	',',\\n	\\\"escape_html(sheet+'.css')));\\\\n			css_option.value=sheet+'.css';\\\\n			css_option.id='opt_for_sheet_'+sheet;\\\\n			if (findActiveSelectors(sheet\\\",\\n	',',\\n	\\\"window).length!=0)\\\\n				spt.insertBefore(css_option\\\",\\n	',',\\n	\\\"spt.options[2]);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction findCSSSheets(win)\\\\n{\\\\n	var possibilities=[]\\\",\\n	',',\\n	\\\"sheet\\\",\\n	',',\\n	\\\"i\\\",\\n	',',\\n	\\\"j\\\",\\n	',',\\n	\\\"k\\\",\\n	',',\\n	\\\"ok;\\\\n	try\\\\n	{\\\\n		if ((typeof win.document.querySelectorAll!='undefined') && (typeof window.ocp_lang!='undefined') && (typeof window.ocp_theme!='undefined'))\\\\n		{\\\\n			for (i=0;i<win.document.styleSheets.length;i++)\\\\n			{\\\\n				try\\\\n				{\\\\n					if (!win.document.styleSheets[i].href)\\\\n					{\\\\n						sheet='no_cache';\\\\n						possibilities.push(sheet);\\\\n					\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n					{\\\\n						l=win.document.styleSheets[i].href.lastIndexOf('/templates_cached/'+ocp_lang+'/');\\\\n						if (l!=-1)\\\\n						{\\\\n							sheet=win.document.styleSheets[i].href.substring(l+('/templates_cached/'+ocp_lang+'/').length\\\",\\n	',',\\n	\\\"win.document.styleSheets[i].href.length).replace('_non_minified'\\\",\\n	',',\\n	\\\"'').replace('_ssl'\\\",\\n	',',\\n	\\\"'').replace('_mobile'\\\",\\n	',',\\n	\\\"'').replace('.css'\\\",\\n	',',\\n	\\\"'');\\\\n							possibilities.push(sheet);\\\\n						\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n					\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n				catch (e) {\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n			for (i=0;i<win.frames.length;i++)\\\\n			{\\\\n				result2=findCSSSheets(win.frames[i]);\\\\n				for (j=0;j<result2.length;j++)\\\\n				{\\\\n					ok=true;\\\\n					for (k=0;k<possibilities.length;k++)\\\\n					{\\\\n						if (possibilities[k]==result2[j]) ok=false;\\\\n					\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n					if (ok) possibilities.push(result2[j]);\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	catch (e) {\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	return possibilities;\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction findActiveSelectors(match\\\",\\n	',',\\n	\\\"win)\\\\n{\\\\n	var test\\\",\\n	',',\\n	\\\"selector\\\",\\n	',',\\n	\\\"selectors=[]\\\",\\n	',',\\n	\\\"classes\\\",\\n	',',\\n	\\\"i\\\",\\n	',',\\n	\\\"j\\\",\\n	',',\\n	\\\"result2;\\\\n	try\\\\n	{\\\\n		for (i=0;i<win.document.styleSheets.length;i++)\\\\n		{\\\\n			try\\\\n			{\\\\n				if ((!match) || (!win.document.styleSheets[i].href && ((win.document.styleSheets[i].ownerNode && win.document.styleSheets[i].ownerNode.id=='style_for_'+match) || (!win.document.styleSheets[i].ownerNode && win.document.styleSheets[i].id=='style_for_'+match))) || (win.document.styleSheets[i].href && win.document.styleSheets[i].href.indexOf('/'+match)!=-1))\\\\n				{\\\\n					classes=win.document.styleSheets[i].rules || win.document.styleSheets[i].cssRules\\\\n					for (j=0;j<classes.length;j++)\\\\n					{\\\\n						selector=classes[j].selectorText;\\\\n						test=win.document.querySelectorAll(selector);\\\\n						if (test.length!=0) selectors.push(classes[j]);\\\\n					\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			catch (e) { \\\",\\n	\\\"}\\\",\\n	\\\";\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	catch (e) { \\\",\\n	\\\"}\\\",\\n	\\\";\\\\n\\\\n	for (i=0;i<win.frames.length;i++)\\\\n	{\\\\n		result2=findActiveSelectors(match\\\",\\n	',',\\n	\\\"win.frames[i]);\\\\n		for (var j=0;j<result2.length;j++) selectors.push(result2[j]);\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	return selectors;\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction promotePageCaching()\\\\n{\\\\n	for (var i=0;i<document.links.length;i++)\\\\n	{\\\\n		if ((typeof document.links[i]!='undefined') && (typeof localStorage[document.links[i].href]!='undefined') && (localStorage[document.links[i].href]))\\\\n		{\\\\n			document.links[i].href+=((document.links[i].href.indexOf('?')==-1)?'?':'&')+'js_cache=1';\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction handleImageMouseOver(event)\\\\n{\\\\n	if (typeof window.ocp_theme=='undefined') return;\\\\n\\\\n	var target=event.target || event.srcElement;\\\\n	if (target.previousSibling && target.previousSibling.className=='magic_image_edit_link') return;\\\\n	if (findWidth(target)<100) return;\\\\n	if (target.src.indexOf('/themes/')==-1) return;\\\\n	if (window.location.href.indexOf('admin_themes')!=-1) return;\\\\n\\\\n	\\\",\\n	(in_array(ecv(\\\$cl,array(),0,\\\"NOT\\\",array(ecv(\\\$cl,array(),0,\\\"VALUE_OPTION\\\",array(\\\"disable_theme_img_buttons\\\")))).\\\"\\\",\\\$GLOBALS['TRUTH_PARAMETERS'])?(\\\"\\\\n		if ((typeof target.mo_link_out!='undefined') && (target.mo_link_out))\\\\n		{\\\\n			window.clearInterval(target.mo_link_out);\\\\n			target.mo_link_out=null;\\\\n		\\\".\\\"}\\\".\\\"\\\\n		target.mo_link=window.setInterval(function() {\\\\n			if (!document.getElementById('editimg_'+target.id))\\\\n			{\\\\n				var ml=document.createElement('input');\\\\n				ml.onclick=function(event) { handleImageClick(event\\\".','.\\\"target\\\".','.\\\"true); \\\".\\\"}\\\".\\\";\\\\n				ml.type='button';\\\\n				ml.id='editimg_'+target.id;\\\\n				ml.value='\\\".ecv(\\\$cl,array(2),2,\\\"EDIT\\\",array()).\\\"';\\\\n				ml.className='magic_image_edit_link';\\\\n				ml.style.position='absolute';\\\\n				ml.style.zIndex=3000;\\\\n				target.parentNode.insertBefore(ml\\\".','.\\\"target);\\\\n			\\\".\\\"}\\\".\\\"\\\\n		\\\".\\\"}\\\".\\\" \\\".','.\\\" 2000);\\\\n	\\\"):''),\\n	\\\"\\\\n\\\\n	window.old_status_img=window.status;\\\\n	window.status='\\\",\\n	ecv(\\\$cl,array(2),0,\\\"SPECIAL_CLICK_TO_EDIT\\\",array()),\\n	\\\"';\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction handleImageMouseOut(event)\\\\n{\\\\n	var target=event.target || event.srcElement;\\\\n\\\\n	\\\",\\n	(in_array(ecv(\\\$cl,array(),0,\\\"NOT\\\",array(ecv(\\\$cl,array(),0,\\\"VALUE_OPTION\\\",array(\\\"disable_theme_img_buttons\\\")))).\\\"\\\",\\\$GLOBALS['TRUTH_PARAMETERS'])?(\\\"\\\\n		if ((typeof target.mo_link!='undefined') && (target.mo_link))\\\\n		{\\\\n			window.clearTimeout(target.mo_link);\\\\n			target.mo_link=null;\\\\n		\\\".\\\"}\\\".\\\"\\\\n\\\\n		if (target.previousSibling && target.previousSibling.className=='magic_image_edit_link')\\\\n		{\\\\n			target.mo_link=window.setInterval(function() {\\\\n				if ((typeof target.edit_window=='undefined') || (!target.edit_window) || (target.edit_window.closed))\\\\n				{\\\\n					target.parentNode.removeChild(target.previousSibling);\\\\n					window.clearTimeout(target.mo_link);\\\\n					target.mo_link=null;\\\\n				\\\".\\\"}\\\".\\\"\\\\n			\\\".\\\"}\\\".\\\" \\\".','.\\\" 3000);\\\\n		\\\".\\\"}\\\".\\\"\\\\n	\\\"):''),\\n	\\\"\\\\n\\\\n	if (typeof window.old_status_img=='undefined') window.old_status_img='';\\\\n	window.status=window.old_status_img;\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction handleImageClick(event\\\",\\n	',',\\n	\\\"ob\\\",\\n	',',\\n	\\\"force)\\\\n{\\\\n	if (!event) event=window.event;\\\\n	if (!ob) ob=this;\\\\n\\\\n	var src=ob.origsrc?ob.origsrc:ob.src;\\\\n	if ((src) && ((force) || (magicKeypress(event))))\\\\n	{\\\\n		// Bubbling needs to be stopped because shift+click will open a new window on some lower event handler (in firefox anyway)\\\\n		cancelBubbling(event);\\\\n		\\\\n		if (typeof event.preventDefault!='undefined') event.preventDefault();\\\\n\\\\n		if (src.indexOf('\\\",\\n	ecv(\\\$cl,array(2),0,\\\"BASE_URL_NOHTTP\\\",array()),\\n	\\\"/themes/')!=-1)\\\\n			ob.edit_window=window.open('\\\",\\n	ecv(\\\$cl,array(2),0,\\\"BASE_URL\\\",array(\\\"0\\\")),\\n	\\\"/adminzone/index.php?page=admin_themes&type=edit_image&lang='+window.encodeURIComponent(window.ocp_lang)+'&theme='+window.encodeURIComponent(window.ocp_theme)+'&url='+window.encodeURIComponent(src.replace('\\\",\\n	ecv(\\\$cl,array(2),0,\\\"BASE_URL\\\",array(\\\"0\\\")),\\n	\\\"/'\\\",\\n	',',\\n	\\\"''))+keep_stub()\\\",\\n	',',\\n	\\\"'edit_theme_image_'+ob.id);\\\\n		else window.alert('\\\",\\n	ecv(\\\$cl,array(8,2),2,\\\"NOT_THEME_IMAGE\\\",array()),\\n	\\\"');\\\\n\\\\n		return false;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	return true;\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction handleZoneClick(src\\\",\\n	',',\\n	\\\"event\\\",\\n	',',\\n	\\\"zone_name)\\\\n{\\\\n	if (magicKeypress(event))\\\\n	{\\\\n		zone_name=zone_name.replace(/:.*\\\\\\\$/\\\",\\n	',',\\n	\\\"'');\\\\n		\\\\n		// Bubbling needs to be stopped because shift+click will open a new window on some lower event handler (in firefox anyway)\\\\n		cancelBubbling(event);\\\\n		if (typeof event.preventDefault!='undefined') event.preventDefault();\\\\n\\\\n		var target='\\\",\\n	ecv(\\\$cl,array(2),0,\\\"BASE_URL\\\",array(\\\"0\\\")),\\n	\\\"/adminzone/index.php?page=admin_zones&type=_edit&id='+window.encodeURIComponent(zone_name)+'&redirect='+window.encodeURIComponent(window.location.href)+keep_stub();\\\\n		window.location.href=target;\\\\n		src.disabled=true; // Our handler is on onmousedown because IE will not capture events on onclick if ctrl is held. We need to disable the link to stop onclick firing.\\\\n		src.onclick=function() { cancelBubbling(event); if (typeof event.preventDefault!='undefined') event.preventDefault(); return false; \\\",\\n	\\\"}\\\",\\n	\\\"; // Needed for some browsers as you can't cancel on onmousedown\\\\n\\\\n		return false;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	return true;\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction load_management_menu(type)\\\\n{\\\\n	if (!type) type='management';\\\\n\\\\n	var on_url\\\",\\n	',',\\n	\\\"off_url;\\\\n\\\\n	if (type=='management')\\\\n	{\\\\n		on_url=\\\\\\\"\\\",\\n	ecv(\\\$cl,array(),0,\\\"IMG\\\",array(\\\"bottom/managementmenu\\\",\\\"0\\\",\\\"default\\\")),\\n	\\\"\\\\\\\".replace(/^http:/\\\",\\n	',',\\n	\\\"window.location.protocol);\\\\n		off_url=\\\\\\\"\\\",\\n	ecv(\\\$cl,array(),0,\\\"IMG\\\",array(\\\"bottom/managementmenu\\\",\\\"0\\\",\\\"default\\\")),\\n	\\\"\\\\\\\".replace(/^http:/\\\",\\n	',',\\n	\\\"window.location.protocol);\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n	{\\\\n		\\\",\\n	(in_array(ecv(\\\$cl,array(),0,\\\"ADDON_INSTALLED\\\",array(\\\"bookmarks\\\")).\\\"\\\",\\\$GLOBALS['TRUTH_PARAMETERS'])?(\\\"\\\\n			on_url=\\\\\\\"\\\".ecv(\\\$cl,array(),0,\\\"IMG\\\",array(\\\"bottom/bookmarksmenu\\\",\\\"0\\\",\\\"default\\\")).\\\"\\\\\\\".replace(/^http:/\\\".','.\\\"window.location.protocol);\\\\n			off_url=\\\\\\\"\\\".ecv(\\\$cl,array(),0,\\\"IMG\\\",array(\\\"bottom/bookmarksmenu\\\",\\\"0\\\",\\\"default\\\")).\\\"\\\\\\\".replace(/^http:/\\\".','.\\\"window.location.protocol);\\\\n		\\\"):''),\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	var tmp_element\\\",\\n	',',\\n	\\\"img;\\\\n	var management_menu_box=document.getElementById(type+'_menu_box');\\\\n	if (management_menu_box)\\\\n	{\\\\n		img=document.getElementById(type+'_menu_img');\\\\n		if (management_menu_box.style.display!='block')\\\\n		{\\\\n			management_menu_box.style.display='block';\\\\n			img.src=off_url;\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n		{\\\\n			management_menu_box.style.display='none';\\\\n			img.src=on_url;\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		fixImage(img);\\\\n		return false;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	if ((!window.popUpMenu) || (!window.ajax_supported))\\\\n	{\\\\n		if (document.getElementById(type+'_menu_img_loader'))\\\\n		{\\\\n			window.setTimeout('load_management_menu(\\\\\\\\''+type+'\\\\\\\\');'\\\",\\n	',',\\n	\\\"200);\\\\n			return false;\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n		img=document.getElementById(type+'_menu_img');\\\\n		setOpacity(img\\\",\\n	',',\\n	\\\"0.4);\\\\n		tmp_element=document.createElement('img');\\\\n		tmp_element.style.position='absolute';\\\\n		tmp_element.style.left=findPosX(img)+'px';\\\\n		//tmp_element.style.top=findPosY(img)+'px'; Doesn't apply because the bottom is absolutely positioned itself (and hence\\\",\\n	',',\\n	\\\" the reference point)\\\\n		tmp_element.style.top='9px';\\\\n		tmp_element.id=type+'_menu_img_loader';\\\\n		tmp_element.src=\\\\\\\"\\\",\\n	ecv(\\\$cl,array(),0,\\\"IMG\\\",array(\\\"bottom/loading\\\",\\\"0\\\",\\\"default\\\")),\\n	\\\"\\\\\\\".replace(/^http:/\\\",\\n	',',\\n	\\\"window.location.protocol);\\\\n		img.parentNode.appendChild(tmp_element);\\\\n		fixImage(img);\\\\n\\\\n		require_javascript(\\\\\\\"javascript_ajax\\\\\\\");\\\\n		require_javascript(\\\\\\\"javascript_menu_popup\\\\\\\");\\\\n		window.setTimeout('load_management_menu(\\\\\\\\''+type+'\\\\\\\\');'\\\",\\n	',',\\n	\\\"200);\\\\n\\\\n		return false;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	if ((window.ajax_supported) && (ajax_supported()))\\\\n	{\\\\n		if (!confirm_session()) return false;\\\\n\\\\n		addEventListenerAbstract(document\\\",\\n	',',\\n	\\\"'click'\\\",\\n	',',\\n	\\\"function (e) { if (!e) e=window.event; var el=e.target; if (!el) el=e.srcElement; if (el.id!=type+'_menu_img') { document.getElementById(type+'_menu_img').src=on_url; document.getElementById(type+'_menu_box').style.display='none'; \\\",\\n	\\\"}\\\",\\n	\\\" \\\",\\n	\\\"}\\\",\\n	',',\\n	\\\"false);\\\\n\\\\n		var img=document.getElementById(type+'_menu_img');\\\\n		img.src=off_url;\\\\n		fixImage(img);\\\\n\\\\n		tmp_element=document.getElementById(type+'_menu_img_loader');\\\\n		if (tmp_element) tmp_element.parentNode.removeChild(tmp_element);\\\\n		setOpacity(img\\\",\\n	',',\\n	\\\"1.0);\\\\n		var e=document.createElement('div');\\\\n		e.setAttribute('id'\\\",\\n	',',\\n	\\\"type+'_menu_box');\\\\n		e.style.zIndex=200;\\\\n		var b=document.getElementById(type+'_menu_rel');\\\\n		e.style.position='absolute';\\\\n		e.style.bottom='10px';\\\\n		setInnerHTML(e\\\",\\n	',',\\n	\\\"load_snippet(type+'_menu'));\\\\n		b.appendChild(e);\\\\n\\\\n		return false; // No need to load link now\\\",\\n	',',\\n	\\\" because we've done an overlay\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	window.location.href=document.getElementById(type+'_menu_button').href;\\\\n	return false;\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction load_ocpchat(event)\\\\n{\\\\n	cancelBubbling(event);\\\\n	if (typeof event.preventDefault!='undefined') event.preventDefault();\\\\n	\\\\n	var html=' \\\\\\\\\\\\n		<div style=\\\\\\\"margin: 20px; font-size: 0.85em; float: right; width: 260px;\\\\\\\"> \\\\\\\\\\\\n			<h2>\\\",\\n	ecv(\\\$cl,array(),2,\\\"OCP_COMMUNITY_HELP\\\",array()),\\n	\\\"</h2> \\\\\\\\\\\\n			<ul class=\\\\\\\"spaced_list\\\\\\\">\\\",\\n	ecv(\\\$cl,array(2),2,\\\"OCP_CHAT_EXTRA\\\",array()),\\n	\\\"</ul> \\\\\\\\\\\\n			<br /> \\\\\\\\\\\\n			<p class=\\\\\\\"community_block_tagline\\\\\\\">[ <a title=\\\\\\\"\\\",\\n	ecv(\\\$cl,array(),2,\\\"OCP_CHAT_STANDALONE\\\",array()),\\n	\\\": \\\",\\n	ecv(\\\$cl,array(),2,\\\"LINK_NEW_WINDOW\\\",array()),\\n	\\\"\\\\\\\" target=\\\\\\\"_blank\\\\\\\" href=\\\\\\\"http://chat.zoho.com/guest.sas?k=%7B%22g%22%3A%22Anonymous%22%2C%22c%22%3A%2299b05040669de8c406b674d2366ff9b0401fe3523f0db988%22%2C%22o%22%3A%22e89335657fd675dcfb8e555ea0615984%22'+'%7D'+'&amp;participants=true\\\\\\\">\\\",\\n	ecv(\\\$cl,array(),2,\\\"OCP_CHAT_STANDALONE\\\",array()),\\n	\\\"</a> | <a href=\\\\\\\"#\\\\\\\" onclick=\\\\\\\"return load_ocpchat(event);\\\\\\\">\\\",\\n	ecv(\\\$cl,array(),2,\\\"HIDE\\\",array()),\\n	\\\"</a>]</p> \\\\\\\\\\\\n		</div> \\\\\\\\\\\\n		<iframe style=\\\\\\\"overflow:hidden;width:350px;height:90%;\\\\\\\" frameborder=\\\\\\\"0\\\\\\\" border=\\\\\\\"0\\\\\\\" src=\\\\\\\"http://chat.zoho.com/shout.sas?k=%7B%22g%22%3A%22Anonymous%22%2C%22c%22%3A%2299b05040669de8c406b674d2366ff9b0401fe3523f0db988%22%2C%22o%22%3A%22e89335657fd675dcfb8e555ea0615984%22'+'%7D'+'&amp;chaturl=ocPortal%20chat&amp;V=000000-70a9e1-eff4f9-70a9e1-ocPortal%20chat&amp;user=\\\",\\n	ecv(\\\$cl,array(6,1),0,\\\"SITE_NAME\\\",array()),\\n	\\\"'+((typeof window.ocp_username!='undefined')?window.encodeURIComponent('/'+window.ocp_username):'')+'&amp;participants=true\\\\\\\"></iframe> \\\\\\\\\\\\n	'.replace(/\\\\\\\\{1\\\\\\\\}/\\\",\\n	',',\\n	\\\"escape_html((window.location+'').replace(get_base_url()\\\",\\n	',',\\n	\\\"'http://baseurl')));\\\\n	\\\\n	var box=document.getElementById('ocpchat_box');\\\\n	if (box)\\\\n	{\\\\n		box.parentNode.removeChild(box);\\\\n\\\\n		setOpacity(document.getElementById('ocpchat_img')\\\",\\n	',',\\n	\\\"1.0);\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n	{\\\\n		box=document.createElement('div');\\\\n\\\\n		box.id='ocpchat_box';\\\\n		box.style.width='650px';\\\\n		box.style.background='#EEE';\\\\n		box.style.color='#000';\\\\n		box.style.padding='5px';\\\\n		box.style.border='3px solid #AAA';\\\\n		box.style.height='420px';\\\\n		box.style.position='absolute';\\\\n		box.style.zIndex=2000;\\\\n		box.style.left=(getWindowWidth()-650)/2+\\\\\\\"px\\\\\\\";\\\\n		var top_temp=100;\\\\n		box.style.top=top_temp+\\\\\\\"px\\\\\\\";\\\\n\\\\n		setInnerHTML(box\\\",\\n	',',\\n	\\\"html);\\\\n		document.body.appendChild(box);\\\\n		\\\\n		smoothScroll(0);\\\\n\\\\n		setOpacity(document.getElementById('ocpchat_img')\\\",\\n	',',\\n	\\\"0.5);\\\\n		\\\\n		//window.setTimeout( function() { try { window.frames[window.frames.length-1].documentElement.getElementById('texteditor').focus(); \\\",\\n	\\\"}\\\",\\n	\\\" catch (e) {\\\",\\n	\\\"}\\\",\\n	\\\" \\\",\\n	\\\"}\\\",\\n	\\\" )\\\",\\n	',',\\n	\\\" 5000);		Unfortunately cannot do\\\",\\n	',',\\n	\\\" JS security context issue\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\\n	return false;\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction staff_actions_select(ob)\\\\n{\\\\n	var form;\\\\n	if (ob.nodeName.toLowerCase()=='form')\\\\n	{\\\\n		form=ob;\\\\n		ob=form.elements['special_page_type'];\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n	{\\\\n		form=ob.form;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	var val=ob.options[ob.selectedIndex].value;\\\\n	if (val!='view')\\\\n	{\\\\n		if (typeof form.elements['cache']!='undefined')\\\\n			form.elements['cache'].value=(val.substring(val.length-4\\\",\\n	',',\\n	\\\"val.length)=='.css')?'1':'0';\\\\n		var test=window.open(''\\\",\\n	',',\\n	\\\"'ocp_dev_tools'+Math.floor(Math.random()*10000)\\\",\\n	',',\\n	\\\"'width=1000\\\",\\n	',',\\n	\\\"height=700\\\",\\n	',',\\n	\\\"scrollbars=yes');\\\\n		if (test) form.setAttribute('target'\\\",\\n	',',\\n	\\\"test.name);\\\\n		form.submit();\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\";\";\n\";}");

?>