<?php
return unserialize("a:6:{i:0;a:1:{i:0;a:5:{i:0;s:34:\"tcpfunc_JAVASCRIPT_FRACTIONAL_EDIT\";i:1;a:0:{}i:2;i:1;i:3;s:0:\"\";i:4;s:0:\"\";}}i:1;a:0:{}i:2;s:26:\"JAVASCRIPT_FRACTIONAL_EDIT\";i:3;N;i:4;N;i:5;s:4191:\"\$TPL_FUNCS['tcpfunc_JAVASCRIPT_FRACTIONAL_EDIT']=\" echo \\\"function fractional_edit(event\\\",\\n	',',\\n	\\\"object\\\",\\n	',',\\n	\\\"url\\\",\\n	',',\\n	\\\"edit_text\\\",\\n	',',\\n	\\\"edit_param_name)\\\\n{\\\\n	if (magicKeypress(event))\\\\n	{\\\\n		// Bubbling needs to be stopped because shift+click will open a new window on some lower event handler (in firefox anyway)\\\\n		cancelBubbling(event);\\\\n\\\\n		require_javascript(\\\\\\\"javascript_ajax\\\\\\\");\\\\n\\\\n		var width=findWidth(object);\\\\n		if (width<180) width=180;\\\\n		var x=findPosX(object);\\\\n		var y=findPosY(object);\\\\n	\\\\n		object.old_onclick=object.onclick;\\\\n		object.old_onkeypress=object.onkeypress;\\\\n\\\\n		var form=document.createElement('form'); // The form is never submitted actually: we use XMLHttpRequest\\\\n		form.method='post';\\\\n		form.action=url;\\\\n		form.style.display='inline';\\\\n		var input=document.createElement('input');\\\\n		input.style.position='absolute';\\\\n		input.style.left=(x-1)+'px';\\\\n		input.style.top=(y-1)+'px';\\\\n		input.style.width=width+'px';\\\\n		input.name=edit_param_name;\\\\n		input.value=edit_text;\\\\n		input.onkeypress=function (event)\\\\n			{\\\\n				if (!event) event=window.event;\\\\n				if ((enter_pressed(event)) && (this.value!=''))\\\\n				{\\\\n					if (typeof window.load_XML_doc=='undefined')\\\\n					{\\\\n						window.setTimeout(function () { input.onkeypress(event); \\\",\\n	\\\"}\\\",\\n	\\\" \\\",\\n	',',\\n	\\\"100);\\\\n						return false;\\\\n					\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n					var response=load_XML_doc(input.form.action\\\",\\n	',',\\n	\\\"false\\\",\\n	',',\\n	\\\"input.name+'='+window.encodeURIComponent(input.value));\\\\n					input.form.parentNode.removeChild(input.form);\\\\n					object.onclick=object.old_onclick;\\\\n					object.onkeypress=object.old_onkeypress;\\\\n					if ((response.responseText=='') || (response.responseText.length>200) || (!response.responseText))\\\\n					{\\\\n						if (response.responseText.length>200)\\\\n						{\\\\n							//require_javascript('javascript_more');\\\\n							//while (!window.window_r)\\\\n							//{\\\\n							//\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n							//window_r(response.responseText);\\\\n							document.write(response.responseText);\\\\n						\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n						var session_test_url='\\\",\\n	ecv(\\\$cl,array(2),0,\\\"FIND_SCRIPT_NOHTTP\\\",array(\\\"confirm_session\\\")),\\n	\\\"';\\\\n						var session_test_ret=load_XML_doc(session_test_url+keep_stub(true)\\\",\\n	',',\\n	\\\"false);\\\\n\\\\n						if ((session_test_ret.responseText!='') && (session_test_ret.responseText!=Null)) // If it failed\\\",\\n	',',\\n	\\\" see if it is due to a non-confirmed session\\\\n						{\\\\n							if (confirm_session(true)) input.onkeypress(event);\\\\n						\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n						{\\\\n							window.alert('\\\",\\n	ecv(\\\$cl,array(8,2),2,\\\"ERROR_FRACTIONAL_EDIT\\\",array()),\\n	\\\"');\\\\n						\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n					\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n					{\\\\n						setInnerHTML(object\\\",\\n	',',\\n	\\\"response.responseText);\\\\n					\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n					return false;\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n				\\\\n				return true;\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n		object.onkeypress=function () { \\\",\\n	\\\"}\\\",\\n	\\\";\\\\n		object.onclick=function (event)\\\\n			{\\\\n				if (!event) event=window.event;\\\\n\\\\n				// Bubbling needs to be stopped because shift+click will open a new window on some lower event handler (in firefox anyway)\\\\n				cancelBubbling(event);\\\\n\\\\n				if (magicKeypress(event))\\\\n				{\\\\n					object.onclick=object.old_onclick;\\\\n					object.onkeypress=object.old_onkeypress;\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n				return false;\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		var remove_function=function (event)\\\\n			{\\\\n				if (!event) event=window.event;\\\\n\\\\n				if (magicKeypress(event))\\\\n				{\\\\n					form.parentNode.removeChild(form);\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n				return true;\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		input.onclick=remove_function;\\\\n		input.onblur=function (event)\\\\n			{\\\\n				if (form.parentNode)\\\\n				{\\\\n					window.alert('\\\",\\n	ecv(\\\$cl,array(8,2),2,\\\"FRACTIONAL_EDIT_CANCELLED\\\",array()),\\n	\\\"');\\\\n					form.parentNode.removeChild(form);\\\\n				\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n		form.appendChild(input);\\\\n		document.body.appendChild(form);\\\\n		input.focus();\\\\n		return false;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\\n	return true;\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n\\\";\";\n\";}");

?>