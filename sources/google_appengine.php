<?php /*

 ocPortal
 Copyright (c) ocProducts, 2004-2013

 See text/EN/licence.txt for full licencing information.


 NOTE TO PROGRAMMERS:
   Do not edit this file. If you need to make changes, save your changed file to the appropriate *_custom folder
   **** If you ignore this advice, then your website upgrades (e.g. for bug fixes) will likely kill your changes ****

*/

/**
 * @license		http://opensource.org/licenses/cpal_1.0 Common Public Attribution License
 * @copyright	ocProducts Ltd
 * @package		google_appengine
 */

/**
 * Find whether the current user is an admin, from the perspective of the Google Console.
 *
 * @return boolean		Current user is admin
 */
function gae_is_admin()
{
	require_once('google/appengine/api/users/User.php');
	require_once('google/appengine/api/users/UserService.php');

	$_userservice='google\appengine\api\users\UserService';
	$userservice=new $_userservice();

	$user=$userservice->getCurrentUser();

	if ($user!==NULL)
	{
		return $userservice->isCurrentUserAdmin();
	}
	return false;
}

